import{C as r,r as n}from"./stimulus-helpers-d189GC1Y-1.js";import{q as o,c as d}from"./helpers-Dn-NBgOc-1.js";import{E as a}from"./ez-base-controller-CGJ-YSBe-1.js";import"./performance-helpers-DpsuwFL7-1.js";import"./js-Cz0CWeBA-1.js";import"./init-user-c_pBoS7M-1.js";class u extends a{constructor(){super(...arguments),this.initAds=()=>{const i=[...document.getElementsByClassName("freestar-ad-zone")],e=[];i.forEach(t=>{e.push({placementName:t.getAttribute("id")||"",slotId:t.getAttribute("id")||""})}),window.freestar.queue.push(()=>{o("ads_defer")?setTimeout(()=>{requestAnimationFrame(()=>{window.freestar.newAdSlots(e)})},1e3):window.freestar.newAdSlots(e)}),window.freestar.queue.push(()=>{window.freestar.trackPageview()})},this.resetAds=()=>{window.freestar.queue.push(()=>{window.freestar.deleteAdSlots()}),this.disconnect(),this.connect()}}connect(){window.addEventListener("turbo:load",this.initAds),window.addEventListener("turbo:before-visit",this.resetAds)}disconnect(){window.removeEventListener("turbo:load",this.initAds),window.removeEventListener("turbo:before-visit",this.resetAds)}}class c extends r{constructor(){super(...arguments),this.minWindowWidth=1400,this.init=()=>{requestIdleCallback(()=>{this.showStickyAd()&&window.freestar.queue.push(()=>{window.freestar.newStickyFooter()})})}}connect(){document.documentElement.addEventListener("turbo:load",this.init)}disconnect(){document.documentElement.removeEventListener("turbo:load",this.init)}destroyElement(){this.element.remove()}showStickyAd(){return d()>=this.minWindowWidth}}n([["ads-main",u],["sticky-ad-container",c]]);
