import{_ as e}from"./preload-helper-cYIQMxwj-1.js";import{r as _}from"./stimulus-helpers-d189GC1Y-1.js";import{D as d}from"./download-controller-DuIbN13K-1.js";import{E as c}from"./ez-base-controller-CGJ-YSBe-1.js";import{aH as p,aI as u,n as g,a4 as E,aU as T,j as D}from"./actions-Djic5EED-1.js";import{g as a}from"./resource-show-helpers-BCUGkw7K-1.js";import{e as h}from"./events-BT2vjsWp-1.js";import{t as i,a as I}from"./helpers-Dn-NBgOc-1.js";import{sendTrackingEvent as o,trackCompleteEvent as L}from"./tracking-CTgR2pnh-1.js";import{F as O,c as v}from"./ez-custom-events-C2ZPNiPb-1.js";import"./performance-helpers-DpsuwFL7-1.js";import"./js-Cz0CWeBA-1.js";import"./download-helpers-BjPWm68w-1.js";import"./ajax-helpers-EzPMNIcq-1.js";import"./index-C4xxlH8f-1.js";import"./_commonjsHelpers-BosuxZz1-1.js";import"./modal_helpers-CSZX3aEY-1.js";import"https://unpkg.com/comlink/dist/esm/comlink.mjs";import"./init-user-c_pBoS7M-1.js";import"./flash-helpers-Bnxa3h-n-1.js";import"./sessions-manager-DFyItLsb-1.js";const l=class l extends c{constructor(){super(...arguments),this.setSearchData=()=>{const t=window.localStorage.getItem(`resource-${this.resourceIdValue}`);t&&(this.searchData=JSON.parse(t),window.localStorage.removeItem(`resource-${this.resourceIdValue}`))}}connect(){this.setSearchData()}sendDownloadClickEvent(t){let r={resourceId:this.resourceIdValue,resourceType:a()};this.searchData&&(r=Object.assign(r,this.searchData)),i(h.download_btn.initial_click,r),o({element:t.currentTarget,data:{action:p,label:a(),category:"Show",content_type:`Content-${this.resourceContentType}`}})}trackDownloadCompleteEvent(){o({data:{action:u,label:a(),category:"Show",content_type:`Content-${this.resourceContentType}`}})}trackLoginTriggerEvent(t){o({element:t.currentTarget,data:{action:g,category:"Trigger-Download_Click"}})}trackJoinProEvent(t){o({element:t.currentTarget,data:{action:E,category:"Trigger-Download_Click",label:"Pro"}}),L({action:D,category:"Trigger-Download_Click"})}trackCustomizeEvent(t){o({element:t.currentTarget,data:{action:T}})}get resourceContentType(){return document.body.dataset.conversionsContentType||I()}};l.values={resourceId:String};let n=l;const m=class m extends c{connect(){this.flagLoaded()}triggerUpsell(t){t.preventDefault(),i(O)}triggerUpsellComplete(t){t.preventDefault(),i(v)}toggleButtonLoadingStatus({detail:{state:t}}){requestAnimationFrame(()=>{this.loadingToggle(t,this.mainButtonTarget)}),this.hasFreeButtonTarget&&requestAnimationFrame(()=>{this.loadingToggle(t,this.freeButtonTarget)})}loadingToggle(t,r){t==="off"?r.classList.remove("is-loading"):t==="on"?r.classList.add("is-loading"):r.classList.toggle("is-loading")}};m.targets=["mainButton","freeButton"];let s=m;_([["download",d],["download-tracking",n],["download-button",s],["returning-signin",e(()=>import("./returning-signin-controller-DqdTrfGD-1.js"),[],import.meta.url)],["free-attribution-slidedown",e(()=>import("./free-attribution-slidedown-controller-8cds-mbK-1.js"),[],import.meta.url)],["post-purchase-banner",e(()=>import("./post-purchase-banner-controller-BO97VUjy-1.js"),[],import.meta.url)],["download-license-selector",e(()=>import("./download-license-selector-controller-CWfTopOw-1.js"),[],import.meta.url)],["download-upsell",e(()=>import("./download-upsell-controller-BEwA0783-1.js"),[],import.meta.url)],["download-popup",e(()=>import("./download-popup-controller-Bd12Ob6J-1.js"),[],import.meta.url)],["daily-limit-join-pro-modal",e(()=>import("./daily-limit-join-pro-modal-controller-C7OZNC8P-1.js"),[],import.meta.url)],["free-trial-daily-limit-modal",e(()=>import("./free-trial-daily-limit-modal-controller-CkwcC9hT-1.js"),[],import.meta.url)]]);
