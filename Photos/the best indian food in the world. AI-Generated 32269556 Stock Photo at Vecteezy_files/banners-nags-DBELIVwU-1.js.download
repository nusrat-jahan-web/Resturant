var m=Object.defineProperty;var l=(i,s,e)=>s in i?m(i,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[s]=e;var t=(i,s,e)=>l(i,typeof s!="symbol"?s+"":s,e);import{_ as o}from"./preload-helper-cYIQMxwj-1.js";import{C as d,r as c}from"./stimulus-helpers-d189GC1Y-1.js";import{b as p}from"./plan-helpers-BFxqJo3H-1.js";import{sendTrackingEvent as n,trackCompleteEvent as h,findCategoryByElement as u}from"./tracking-CTgR2pnh-1.js";import{aw as _,d as E,ax as g}from"./actions-Djic5EED-1.js";import{a}from"./js-Cz0CWeBA-1.js";import{E as f}from"./ez-base-controller-CGJ-YSBe-1.js";import"./performance-helpers-DpsuwFL7-1.js";import"./helpers-Dn-NBgOc-1.js";import"./init-user-c_pBoS7M-1.js";class r extends d{constructor(){super(...arguments);t(this,"dismiss",e=>{e.preventDefault(),e.stopPropagation(),this.setDismissedCookie(),this.element.remove()})}connect(){this.setupSessionBanner(),this.cookieValue&&n({element:this.element,data:{action:_,label:"Plan-Unlimited Annual Universal",non_interaction:!0}})}trackDiscount(){const e=p({plans:[this.planValue]});n({data:{action:E,items:e}}),h({action:g,category:u(this.element),label:"Plan-Unlimited Annual Universal"})}setDismissedCookie(){if(this.cookieValue==="annual_cart_abandonment")return;const e=this.hasDismissExpiresValue?{domain:this.cookieDomain,expires:this.dismissExpiresValue}:{domain:this.cookieDomain};this.element.dataset.dismissSessionId||a.set(`${this.slugValue}_banner_dismissed`,"internal",e)}get cookieDomain(){const e=window.location.hostname.split(".");return`${e[1]}.${e[2]}`}setupSessionBanner(){const e=this.element.dataset.dismissSessionId;e&&sessionStorage.getItem(e)!=="1"&&this.element.classList.remove("is-hidden")}setSessionCookie(){const e=this.element.dataset.dismissSessionId;sessionStorage.setItem(e,"1")}removeBannerCookie(){a.remove(this.cookieValue)}}t(r,"values",{slug:String,dismissExpires:Number,cookie:String,plan:Object});class k extends f{connect(){this.element.classList.contains("ez-flash-message--auto-dismiss")&&o(()=>import("./dom-slider-DcvZbv1f-1.js"),[],import.meta.url).then(()=>{this.slideUp=window.domSlider.slideUp,setTimeout(()=>{this.dismiss()},3e3)}),this.flagLoaded()}dismiss(){this.slideUp({element:this.element})}}c([["site-banner",r],["flash-message",k],["teams-nag",o(()=>import("./teams-nag-controller-B-uZKhZ2-1.js"),[],import.meta.url)],["language-switcher",o(()=>import("./language-switcher-controller-CrhtD4VC-1.js"),[],import.meta.url)]]);
